@namespace Skclusive.Material.Theme
@inherits ThemeComponentBase

<style skclusive>
    @(new MarkupString(ThemeProducer.BuildCommon(_Theme)))
@if (IsAuto)
{
    @(new MarkupString(ThemeProducer.BuildMediaScheme(_Dark)))
    @(new MarkupString(ThemeProducer.BuildMediaScheme(_Light)))
}
else
{
    @(new MarkupString(ThemeProducer.BuildScheme(_Theme)))
}
</style>

@code
{
    [Parameter]
    public Theme Default { set; get; }

    [Parameter]
    public Theme Light { set; get; }

    [Parameter]
    public Theme Dark { set; get; }

    protected Theme _Theme => Default ?? (Theme == Skclusive.Core.Component.Theme.Dark ? Dark : Light);

    protected Theme _Dark => Dark ?? ThemeFactory.CreateTheme(new ThemeConfig { Palette = new PaletteConfig { Type = PaletteType.Dark } });

    protected Theme _Light => Light ?? ThemeFactory.CreateTheme(new ThemeConfig { Palette = new PaletteConfig { Type = PaletteType.Light } });
}