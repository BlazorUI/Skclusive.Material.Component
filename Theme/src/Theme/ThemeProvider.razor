@namespace Skclusive.Material.Theme
@inherits ThemeComponentBase

<style
    data-name="ThemeProviderCommon">
    @(new MarkupString(ThemeProducer.BuildCommon(_Theme)))
</style>

@if (IsAuto)
{
    <style
        data-name="ThemeProviderDark">
        @(new MarkupString(ThemeProducer.BuildMediaScheme(_Dark)))
    </style>
    <style
        data-name="ThemeProviderLight">
        @(new MarkupString(ThemeProducer.BuildMediaScheme(_Light)))
    </style>
}
else
{
    <style
        data-name="ThemeProviderSchema">
        @(new MarkupString(ThemeProducer.BuildScheme(_Theme)))
    </style>
}

@code
{
    [Parameter]
    public ThemeConfig Config { set; get; }

    [Parameter]
    public ThemeConfig Light { set; get; } = new ThemeConfig { Palette = new PaletteConfig { Type = PaletteType.Light } };

    [Parameter]
    public ThemeConfig Dark { set; get; } = new ThemeConfig { Palette = new PaletteConfig { Type = PaletteType.Dark } };

    protected ThemeConfig _Config => Config ?? (Theme == Skclusive.Core.Component.Theme.Dark ? Dark : Light);

    protected Theme _Theme => ThemeFactory.CreateTheme(_Config);

    protected Theme _Dark => ThemeFactory.CreateTheme(Dark);

    protected Theme _Light => ThemeFactory.CreateTheme(Light);
}